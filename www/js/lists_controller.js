// Generated by CoffeeScript 1.7.1
(function() {
  this.app.controller('ListsCtrl', function($scope, $state, $stateParams, $http, ListsSrv) {
    var api;
    api = 'http://scrooge.reziga.eu/app_dev.php/api/';
    $scope.create_list = function() {
      return $state.go('app.listnew_step_0');
    };
    $scope.list = {
      id: 4
    };
    $scope.show_me = function() {
      console.log($scope.list);
      console.log(ListsSrv.toto);
      return console.log(ListsSrv.list);
    };
    $scope.create_list_step_0 = function() {
      var list, url;
      console.log('hééhéh');
      url = "" + api + "shoplists/news";
      console.log($scope.list.title);
      console.log($scope);
      list = {
        shoplist: {
          serialname: $scope.list.title,
          description: $scope.list.description,
          guestname: $scope.list.user,
          guestemail: $scope.list.email
        }
      };
      return $http.post(url, list).success(function(data) {
        console.log(data);
        ListsSrv.list = data;
        return $state.go('app.listnew_step_1');
      }).error(function(data) {
        console.log('nope nope nope');
        return console.log(data);
      });
    };
    $scope.create_list_finsh_step_items = function() {
      return $state.go('app.listnew_step_sheare');
    };
    $scope.create_list_finsh_step_sheare = function() {
      return $state.go('app.listnew_step_message');
    };
    return $scope.create_list_finsh_step_message = function() {
      return $state.go('app.listnew_step_confirm_message');
    };
  });

  this.app.service('ListsSrv', function() {
    return {
      list: {}
    };
  });

}).call(this);
